
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Welcome to cloudknot &#8212; cloudknot 0.6.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" href="_static/collapsible.css" type="text/css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Getting started with cloudknot" href="getting_started.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">cloudknot</a></h1>



<p class="blurb">Run your existing python code on AWS Batch</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=nrdg&repo=cloudknot&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">faq</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nrdg/cloudknot/tree/master/examples">examples</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nrdg/cloudknot">code</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/nrdg/cloudknot/issues">bugs</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="welcome-to-cloudknot">
<h1>Welcome to cloudknot<a class="headerlink" href="#welcome-to-cloudknot" title="Permalink to this heading">¶</a></h1>
<p>“Knot” is a collective noun for a group of snakes. <cite>Cloudknot</cite> is a python
library designed to run your existing python code on
<a class="reference external" href="https://aws.amazon.com/batch">AWS Batch</a>.</p>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cloudknot</span> <span class="k">as</span> <span class="nn">ck</span>

<span class="k">def</span> <span class="nf">random_mv_prod</span><span class="p">(</span><span class="n">b</span><span class="p">):</span>
<span class="w">   </span><span class="sd">&quot;&quot;&quot;Here is a function I want to run on AWS Batch&quot;&quot;&quot;</span>
   <span class="c1"># Always import dependencies within the function</span>
   <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

   <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="mi">1024</span><span class="p">)</span>
   <span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="p">(</span><span class="mi">1024</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>

   <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

<span class="c1"># Create a `Knot`, the primary object in cloudknot (read the docs)</span>
<span class="n">knot</span> <span class="o">=</span> <span class="n">ck</span><span class="o">.</span><span class="n">Knot</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;random-mv-prod&#39;</span><span class="p">,</span> <span class="n">func</span><span class="o">=</span><span class="n">random_mv_prod</span><span class="p">)</span>

<span class="c1"># Submit the jobs</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">result_futures</span> <span class="o">=</span> <span class="n">knot</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="motivation">
<h2>Motivation<a class="headerlink" href="#motivation" title="Permalink to this heading">¶</a></h2>
<p>In the quest to minimize time-to-first-result, many computational scientists are
turning to cloud-based distributed computing with commercial vendors like
Amazon to run their computational workloads. Yet cloud computing remains
inaccessible to many researchers. A number of python scientific libraries have
sought to close this gap by allowing users to interact seamlessly with AWS
resources from within their python environment. For example, see
<a class="reference external" href="https://doi.org/10.5281/zenodo.1034342">cottoncandy</a> for interacting with
numpy array data on <a class="reference external" href="https://aws.amazon.com/s3/">Amazon S3</a>. Or see <a class="reference external" href="http://pywren.io/">pywren</a>, which enables users to run their existing python code
on <a class="reference external" href="https://aws.amazon.com/lambda/">AWS Lambda</a>, providing convenient
distributed execution for jobs that fall within the AWS Lambda limits (maximum
300 seconds of execution time, 1.5 GB of RAM, 512 MB of local storage, and no
root access). For jobs that require more, we introduce cloudknot to execute
existing python code on AWS Batch.</p>
<p>Cloudknot takes as input a python function, Dockerizes it for use in an Amazon
ECS instance, and creates all the necessary AWS Batch constituent resources to
submit jobs. You can then use cloudknot to submit and view jobs for a range
of inputs.</p>
</div>
<div class="section" id="installation-and-getting-started">
<h2>Installation and getting started<a class="headerlink" href="#installation-and-getting-started" title="Permalink to this heading">¶</a></h2>
<p>To install cloudknot and take your first few slithers,
visit <a class="reference internal" href="getting_started.html#getting-started-label"><span class="std std-ref">Getting started with cloudknot</span></a></p>
</div>
<div class="section" id="documentation-and-api">
<h2>Documentation and API<a class="headerlink" href="#documentation-and-api" title="Permalink to this heading">¶</a></h2>
<p>Most cloudknot users will only need to interact with the Knot and Pars classes
(perhaps the DockerImage class). For details on those objects and links to the
lower-level API, see <a class="reference internal" href="documentation.html#doc-label"><span class="std std-ref">Documentation</span></a>.</p>
</div>
<div class="section" id="bugs-and-issues">
<h2>Bugs and issues<a class="headerlink" href="#bugs-and-issues" title="Permalink to this heading">¶</a></h2>
<p>If you are having issues, please let us know by <a class="reference external" href="https://github.com/nrdg/cloudknot/issues">opening up a new issue</a>.
You will probably want to tag your issue with the “bug” or “question” label.</p>
</div>
<div class="section" id="contribute">
<h2>Contribute<a class="headerlink" href="#contribute" title="Permalink to this heading">¶</a></h2>
<p>We invite you to contribute to cloudknot. Take a look at the <a class="reference external" href="https://github.com/nrdg/cloudknot">source code</a>. Or tackle one of the <a class="reference external" href="https://github.com/nrdg/cloudknot/issues">open issues</a>. Issues labeled “help wanted”
or “good first issue” are particularly appropriate for beginners.</p>
</div>
<div class="section" id="aws-batch-vs-aws-lambda">
<h2>AWS Batch vs AWS Lambda<a class="headerlink" href="#aws-batch-vs-aws-lambda" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="https://aws.amazon.com/lambda/">AWS Lambda</a> is a service that runs your code
in response to certain events (e.g. file uploads). It starts executing very
quickly after the triggering event but it has <a class="reference external" href="https://docs.aws.amazon.com/lambda/latest/dg/limits.html">some limitations</a> (e.g. on the
amount of memory or the size of your deployment package). If your existing
code falls within the AWS Lambda limitations, you should probably be using
AWS Lambda instead of AWS Batch. In that case, check out the excellent
<a class="reference external" href="http://pywren.io/">pywren</a>. If your code exceeds the AWS Lambda limitations,
then welcome to cloudknot.</p>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this heading">¶</a></h2>
<p>The project is licensed under the <a class="reference external" href="https://github.com/nrdg/cloudknot/blob/master/LICENSE">MIT license</a>.</p>
</div>
<div class="section" id="citing-cloudknot">
<h2>Citing cloudknot<a class="headerlink" href="#citing-cloudknot" title="Permalink to this heading">¶</a></h2>
<p>If you use cloudknot in a scientific publication, we would appreciate
citations to the following paper:</p>
<p><a class="reference external" href="http://conference.scipy.org/proceedings/scipy2018/adam_richie-halford.html">Cloudknot: A Python library to run your existing code on AWS Batch</a>
Richie-Halford and Rokem, Proceedings of the 17th python in science
conference, pp. 8-14, 2018.</p>
<p>Bibtex entry:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@InProceedings</span><span class="p">{</span> <span class="n">adam_richie</span><span class="o">-</span><span class="n">halford</span><span class="o">-</span><span class="n">proc</span><span class="o">-</span><span class="n">scipy</span><span class="o">-</span><span class="mi">2018</span><span class="p">,</span>
  <span class="n">author</span>    <span class="o">=</span> <span class="p">{</span> <span class="p">{</span><span class="n">A</span><span class="p">}</span><span class="n">dam</span> <span class="p">{</span><span class="n">R</span><span class="p">}</span><span class="n">ichie</span><span class="o">-</span><span class="p">{</span><span class="n">H</span><span class="p">}</span><span class="n">alford</span> <span class="ow">and</span> <span class="p">{</span><span class="n">A</span><span class="p">}</span><span class="n">riel</span> <span class="p">{</span><span class="n">R</span><span class="p">}</span><span class="n">okem</span> <span class="p">},</span>
  <span class="n">title</span>     <span class="o">=</span> <span class="p">{</span> <span class="p">{</span><span class="n">C</span><span class="p">}</span><span class="n">loudknot</span><span class="p">:</span> <span class="p">{</span><span class="n">A</span><span class="p">}</span> <span class="p">{</span><span class="n">P</span><span class="p">}</span><span class="n">ython</span> <span class="p">{</span><span class="n">L</span><span class="p">}</span><span class="n">ibrary</span> <span class="n">to</span> <span class="p">{</span><span class="n">R</span><span class="p">}</span><span class="n">un</span> <span class="n">your</span> <span class="p">{</span><span class="n">E</span><span class="p">}</span><span class="n">xisting</span> <span class="p">{</span><span class="n">C</span><span class="p">}</span><span class="n">ode</span> <span class="n">on</span> <span class="p">{</span><span class="n">A</span><span class="p">}{</span><span class="n">W</span><span class="p">}{</span><span class="n">S</span><span class="p">}</span> <span class="p">{</span><span class="n">B</span><span class="p">}</span><span class="n">atch</span> <span class="p">},</span>
  <span class="n">booktitle</span> <span class="o">=</span> <span class="p">{</span> <span class="p">{</span><span class="n">P</span><span class="p">}</span><span class="n">roceedings</span> <span class="n">of</span> <span class="n">the</span> <span class="mi">17</span><span class="n">th</span> <span class="p">{</span><span class="n">P</span><span class="p">}</span><span class="n">ython</span> <span class="ow">in</span> <span class="p">{</span><span class="n">S</span><span class="p">}</span><span class="n">cience</span> <span class="p">{</span><span class="n">C</span><span class="p">}</span><span class="n">onference</span> <span class="p">},</span>
  <span class="n">pages</span>     <span class="o">=</span> <span class="p">{</span> <span class="mi">8</span> <span class="o">-</span> <span class="mi">14</span> <span class="p">},</span>
  <span class="n">year</span>      <span class="o">=</span> <span class="p">{</span> <span class="mi">2018</span> <span class="p">},</span>
  <span class="n">editor</span>    <span class="o">=</span> <span class="p">{</span> <span class="p">{</span><span class="n">F</span><span class="p">}</span><span class="n">atih</span> <span class="p">{</span><span class="n">A</span><span class="p">}</span><span class="n">kici</span> <span class="ow">and</span> <span class="p">{</span><span class="n">D</span><span class="p">}</span><span class="n">avid</span> <span class="p">{</span><span class="n">L</span><span class="p">}</span><span class="n">ippa</span> <span class="ow">and</span> <span class="p">{</span><span class="n">D</span><span class="p">}</span><span class="n">illon</span> <span class="p">{</span><span class="n">N</span><span class="p">}</span><span class="n">iederhut</span> <span class="ow">and</span> <span class="p">{</span><span class="n">M</span><span class="p">}</span> <span class="p">{</span><span class="n">P</span><span class="p">}</span><span class="n">acer</span> <span class="p">},</span>
  <span class="n">doi</span>       <span class="o">=</span> <span class="p">{</span> <span class="mf">10.25080</span><span class="o">/</span><span class="n">Majora</span><span class="o">-</span><span class="mi">4</span><span class="n">af1f417</span><span class="o">-</span><span class="mi">001</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="acknowledgements">
<h2>Acknowledgements<a class="headerlink" href="#acknowledgements" title="Permalink to this heading">¶</a></h2>
<p>Cloudknot development is supported through a grant from the <a class="reference external" href="https://www.moore.org/">Gordon and Betty
Moore Foundation</a> and from the <a class="reference external" href="https://sloan.org/">Alfred P. Sloan
Foundation</a> to the <a class="reference external" href="http://escience.washington.edu/">University of Washington eScience
Institute</a>, as well as NIH Collaborative
Research in Computational Neuroscience grant R01EB027585-01 through the National
Institute of Biomedical Imaging and Bioengineering to Eleftherios Garyfallidis
(Indiana University) and Ariel Rokem (University of Washington).</p>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    
    <div class="footer">
      &#169;2017, Adam Richie-Halford, Ariel Rokem.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 5.0.0</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
    <script type="text/javascript">
        $(document).ready(function() {
            $(".toggle > *").hide();
            $(".toggle .header").show();
            $(".toggle .header").click(function() {
                $(this).parent().children().not(".header").toggle(400);
                $(this).parent().children(".header").toggleClass("open");
            })
        });
    </script>

  </body>
</html>